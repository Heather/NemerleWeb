using Nemerle.Collections;
using Nemerle.Xml;
using Nemerle.Extensions;
using Nemerle.Utility;
using Nemerle.ComputationExpressions;

using System;
using System.Text;
using System.Linq;
using System.Console;
using System.Collections.Generic;
using System.Xml.Linq;

using NemerleWeb;
using NemerleWeb.TypedJS;

//[assembly: GenerateTypedJS(
// Root = "A",
// Files = [ (@"d:\MyProjects\NemerleWeb\NemerleWeb.TypedJS\Scripts\typings") ]
//)]

module Program
{
  Main() : void
  {
    def result = NWeb Test();
    
    foreach (s in NWebData.GetAllScriptNames())
    {
      WriteLine(NWebData.GetScript(s));
      WriteLine(NWebData.GetLambdasScript(s));
    }    
    
    WriteLine(result);
    _ = Console.ReadKey();
  }
}

[Unit][Record]
class A[T]
{
  Value : T {get;}
     
  public static @:(x : A[T]) : T
  {
    x.Value
  }
}

[Unit]
public class Test
{
  F():void
  {
    def a = A("A");
    def b : string = a;
  }
 
  [Html]
  public View() : string
  {
    <# 
       <div>
       </div>
    #>
  }
}

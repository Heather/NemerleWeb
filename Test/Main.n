using Nemerle.Collections;
using Nemerle.Xml;
using Nemerle.Extensions;
using Nemerle.Utility;
using Nemerle.ComputationExpressions;

using System;
using System.IO;
using System.Text;
using System.Linq;
using System.Console;
using System.Collections.Generic;
using System.Xml.Linq;

using NemerleWeb;
using NemerleWeb.TypedJS;
using NemerleWeb.Predefined;


module Program
{
  Main() : void
  {
    //def result = NWeb Test();
    
    foreach (f in NWebData.Scripts)
    {
      WriteLine(File.ReadAllText(f));
      //WriteLine(NWebData.GetLambdasScript(s));
    }
    
    //WriteLine(result);
    _ = Console.ReadKey();
  }
}


    
    [Unit]
    class UsingServerInConstructor
    {
      public this()
      {
        _ = server.F(s => S = s.First());
      }
      
      public S : string { get; set; }
      
      public class Server
      {
        public F() : IEnumerable[string] { yield "" }
      }
      
      [Html]
      public View() : string
      {
        <# <div></div> #>
      }
    }
    

[Unit]
public class Test
{ 
  F() : void
  {
    def f= UsingServerInConstructor();
  }
}


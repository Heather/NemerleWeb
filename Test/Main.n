using Nemerle.Collections;
using Nemerle.Xml;
using Nemerle.Extensions;
using Nemerle.ComputationExpressions;

using System;
using System.Linq;
using System.Console;
using System.Collections.Generic;
using System.Xml.Linq;

using NemerleWeb;

module Program
{
  Main() : void
  {
      def result = Utils.MakePageHtml(Test());      
      Console.WriteLine(result);
      _ = Console.ReadKey();
  }
}

[JsModel]
variant RgbColor {
   | Red
   | Yellow
   | Green
   | Different {
       red : float;
       green : float;
       blue : float;
     }
 }

[ViewModel]
public partial class Test
{
  public this()
  {  
    def color = RgbColor.Different(1.0f, 1.0f, 1.0f) : RgbColor;
    match (color) {
      | RgbColor.Red => "red"
      | RgbColor.Yellow => "yellow"
      | RgbColor.Green => "green"
      | RgbColor.Different (r, g, b) => $"rgb($r, $g, $b)"
    }
  }
  
  [Html]
  public View() : string 
  {
    <#
      <div>
      </div>
    #>
  }
}